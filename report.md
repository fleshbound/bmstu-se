# Домашнее задание (ОПИ)

## Студент: Авдейкина Валерия, группа: ИУ7-23Б

## Постановка задачи

Задан текстовый файл с целыми числами, разделенными произвольным количеством пробелов.
Необходимо вывести на печать те числа из этого файла, которые являются палиндромами.

### Допущения:

- В файле только целые числа, записанные правильно;
- Числа разделены произвольным количеством пробелов;
- Количество чисел в строке не более ста;
- Количество чисел не указывается;

### Пример работы:

| Исходный файл			 | Вывод									|
|------------------------|------------------------------------------|
| Несуществующий файл	 | Сообщение "Файл не существует"			|
| Пустой файл			 | Сообщение "Файл пуст"					|
| В строке файла есть более 100 чисел	| Сообщение "Чисел в строке больше 100"  |
| 01&nbsp;&nbsp;&nbsp;02&nbsp;45&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-1	   | Никакого вывода |
| 010&nbsp;&nbsp;1&nbsp;&nbsp;23&nbsp;0&nbsp;&nbsp;&nbsp;456654 | 010&nbsp;1&nbsp;0&nbsp;456654   |

## Декомпозиция

### Диаграмы IDEF0

ДИАГРАМЫ СЮДА !!!!

### Внешние спецификации модулей

#### Блок A1

##### Спецификация

| Имя модуля | read\_number |
|-------------------|-----------------------------------------------------------|
| Функция | Считывание числа, расположенного далее |
| Список параметров | Файловая переменная, массив, количество элементов массива |
| Входные данные	| Файловая переменная	|
| Выходные данные	| Массив, количество элементов массива	|
| Внешние эффекты	| Перемещение указателя в файле на следующую строку |
| Допущение модуля	| Файл существует и он не пустой |

##### Тестовые данные

| Строка файла | Результат |
|-----|-----|
| Пустая | Массив пустой, кол-во элементов 0 |
| 5 | 5, кол-во элементов 1 |
| 1 2 3 4 | 1 2 3 4, кол-во элементов 4 |
| более ста чисел | Массив пустой, кол-во элементов 0 |

Три класса эквивалентности: строка пуста, строка переполнена, строка с нормальным кол-вом элементов (один и несколько).

##### Псевдокод

**read\_array**
```
Вход: f - файловая переменная
Выход: arr - массив целых чисел, n - кол-во элементов массива

n=0
ПОКА не конец строки И len < 0 ДЕЛАТЬ
	прочитать элемент массива arr[n]
	n=n+1
	ЕСЛИ n > 100 ТО
		n = -1
	ВСЕ ЕСЛИ
ВСЕ ПОКА

ЕСЛИ n < 0
	n=0
ВСЕ ЕСЛИ
```

#### Блок А2

##### Спецификация

| Имя модуля | get\_flags |
|----|---------|
| Функция | Заполнение массива флагов каждого элемента массива чисел в соответствии с формой палиндрома |
| Список параметров | Массив, количество элементов в массиве, массив флагов |
| Входные данные        | Массив, кол-во элементов в массиве |
| Выходные данные       | Массив флагов |
| Внешние эффекты       | Нет |
| Допущение модуля      | Нет |

##### Тестовые данные

| Кол-во эл-тов / Массив | Результат - массив флагов |
|-----|-----|
| 3 / 1 22 01 | 1 1 0 |
| 4 / 12 23 45 67 | 0 0 0 0 |
| 3 / 11 22 33 | 1 1 1 |
| 3 / 11 01 21 | 1 0 0 |

Классы эквивалентности: нет палиндромов, есть палиндромы (один, несколько, все)

##### Псевдокод

**get\_flags**
```
Вход: arr - массив целых чисел,
      n - количество элементов массива,
Выход: flags - массив флагов

i=0
ПОКА i < n ДЕЛАТЬ
	ЕСЛИ is_palindrom(arr[i]) != 0 ТО
		flags[i] = 1
	ИНАЧЕ
		flags[i] = 0
	ВСЕ ЕСЛИ
ВСЕ ПОКА
```

#### Блок А3

##### Спецификация

| Имя модуля | print\_numbers |
|----|---------|
| Функция | Вывод на экран чисел-палиндромов массива в соответствии с массивом флагов |
| Список параметров | Массив, количество элементов в массиве, массив флагов |
| Входные данные        | Массив, кол-во элементов в массиве, массив флагов |
| Выходные данные       | Нет |
| Внешние эффекты       | Нет |
| Допущение модуля      | Нет |

##### Тестовые данные

| Кол-во элементов в массиве / массив | Результат |
|-----|-----|
| 5 / 1 2 3 4 5 | 1 2 3 4 5 |
| 1 / 7 | 7 |

Классы эквивалетности: один элемент, несколько элементов

##### Псевдокод

**print\_numbers**
```
Ввод: arr - массив целых чисел,
      n - кол-во элементов в массиве,
      flags - массив флагов (элементы либо 0, либо 1)
Вывод: -

i=0
ПОКА i < n ДЕЛАТЬ
	ЕСЛИ flags[i] = 1 ТО
		печатать arr[i]
	ВСЕ ЕСЛИ
	i = i+1
ВСЕ ПОКА
```

#### Блок А22

##### Спецификация

| Имя модуля | is\_palindrom |
|----|---------|
| Функция | Определяет, является ли переданное число палиндромом |
| Список параметров | Число, признак |
| Входные данные        | Число |
| Выходные данные       | Признак |
| Внешние эффекты       | Нет |
| Допущение модуля      | Нет |

##### Тестовые данные

| Число | Результат (1 - TRUE; 0 - FALSE) |
|-----|-----|
| 11 | 1 |
| 1 | 1 |
| 12 | 0 |
| 121 | 1 |

Классы эквивалентности: число палиндром (длина четная, нечетная), число не палиндром

##### Псевдокод

**is\_palindrom**
```
Вход: num - число
Выход: признак

temp=num
len=0
ПОКА temp > 0 ДЕЛАТЬ
	temp = temp/10
	len = len+1
ВСЕ ПОКА

i=0
temp=num
ПОКА i < len ДЕЛАТЬ
	num_arr[i] = temp mod 10
	temp = temp/10
	i = i+1
ВСЕ ПОКА

i=0
признак = 1
ПОКА i < len/2 ДЕЛАТЬ
	ЕСЛИ num_arr[i] != num_arr[len-i-1] ТО
		признак = 0
	ВСЕ ЕСЛИ
ВСЕ ПОКА

Примечание: num_arr - массив целых чисел (цифр числа), temp, len, i - целые числа
```

### Псевдокод основной программы

```
Вход: имя файла
Выход: -

Открыть файл f с указанным именем на чтение

ЕСЛИ файл не существует ТО
	напечатать сообщение "Файл не существует"
ИНАЧЕ
	ЕСЛИ файл пустой ТО
		напечатать сообщение "Файл пуст"
	ИНАЧЕ
		ПОКА не конец файла ДЕЛАТЬ
			read_array(f, arr, len)

			ЕСЛИ len = -1 ТО
				напечатать сообщение "Чисел в строке больше 100"
			ВСЕ ЕСЛИ

			get_flags(arr, n, flags)
			print_numbers(arr, n, flags)
		ВСЕ ПОКА
	ВСЕ ЕСЛИ
ВСЕ ЕСЛИ

Закрыть файл f

Примечания: f - файловая переменная
	    arr - массив целых чисел
	    n - количество элементов в массиве
	    flags - массив целых чисел (элементы изначально 0, затем либо 0, либо 1)
```
